---
import HeaderLink from "./HeaderLink.astro";
import { Icon } from "astro-icon/components";
import { TORC_APP_URL } from "../consts";
import { Sheet } from "./Sheet";
import { Image } from "astro:assets";

import logo from "../images/logo.png";
import { Theme } from "./Theme";
---

<header class="sticky top-0 z-50 border-b border-primary/5 bg-background/80 backdrop-blur-sm">
  <div class="mx-auto flex max-w-7xl items-center justify-between px-4 py-4">
    <a href="/" class="flex items-center gap-2">
      <Image
        loading="eager"
        class="h-auto w-[40px]"
        src={logo}
        format="webp"
        alt=""
        quality={80}
        widths={[80]}
        sizes="40px"
      />
      <span class="text-sm font-semibold text-primary">Tier One Run Club</span>
    </a>

    <!-- Mobile nav -->
    <div class="block sm:hidden">
      <Sheet client:idle>
        <Icon
          slot="trigger"
          name="radix-icons:hamburger-menu"
          class="font-bold text-foreground"
        />
        <div
          slot="description"
          class="flex flex-col gap-5 text-foreground text-lg mt-5 w-full justify-center items-center font-extrabold"
        >
          <HeaderLink class="no-underline!" href="/blog">Blog</HeaderLink>
          <HeaderLink class="no-underline!" href="/tools">Tools</HeaderLink>
          <HeaderLink class="no-underline!" href="/about">About</HeaderLink>
          <HeaderLink class="no-underline!" href="/contact">Contact</HeaderLink>
          <a
            href={`${TORC_APP_URL}/login`}
            class="inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground no-underline"
          >
            Get Started
          </a>
          <Theme client:idle />
        </div>
      </Sheet>
    </div>

    <!-- Desktop nav -->
    <nav class="hidden sm:flex items-center gap-6">
      <a href="/blog" class="text-sm text-primary/70 transition-colors hover:text-primary">Blog</a>
      <a href="/tools" class="text-sm text-primary/70 transition-colors hover:text-primary">Tools</a>
      <a href="/about" class="text-sm text-primary/70 transition-colors hover:text-primary">About</a>
      <a
        href={`${TORC_APP_URL}/login`}
        class="inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90"
      >
        Get Started
      </a>
    </nav>
  </div>
</header>
